{
  "test_id": "INT_002",
  "description": "聲部交錯 + 平行八度",
  "category": "integration",
  "severity_expected": "error",
  "input": {
    "key_signature": null,
    "chords": [
      {
        "index": 0,
        "measure": 1,
        "beat": 1.0,
        "notes": {
          "S": { "voice": "S", "midi": 64, "measure": 1, "beat": 1.0 },
          "A": { "voice": "A", "midi": 67, "measure": 1, "beat": 1.0 },
          "T": { "voice": "T", "midi": 60, "measure": 1, "beat": 1.0 },
          "B": { "voice": "B", "midi": 48, "measure": 1, "beat": 1.0 }
        }
      },
      {
        "index": 1,
        "measure": 1,
        "beat": 2.0,
        "notes": {
          "S": { "voice": "S", "midi": 65, "measure": 1, "beat": 2.0 },
          "A": { "voice": "A", "midi": 69, "measure": 1, "beat": 2.0 },
          "T": { "voice": "T", "midi": 62, "measure": 1, "beat": 2.0 },
          "B": { "voice": "B", "midi": 50, "measure": 1, "beat": 2.0 }
        }
      }
    ]
  },
  "expected_output": {
    "violation_count": 3,
    "violations": [
      {
        "rule_id": "V1",
        "severity": "error",
        "voices_involved": ["SOPRANO", "ALTO"],
        "location": {
          "chord_index": 0
        },
        "message_zh_contains": "交錯"
      },
      {
        "rule_id": "V1",
        "severity": "error",
        "voices_involved": ["SOPRANO", "ALTO"],
        "location": {
          "chord_index": 1
        },
        "message_zh_contains": "交錯"
      },
      {
        "rule_id": "P1",
        "severity": "error",
        "voices_involved": ["TENOR", "BASS"],
        "location": {
          "from_index": 0,
          "to_index": 1
        },
        "message_zh_contains": "平行"
      }
    ],
    "cadence": null
  },
  "notes": "S 低於 A（兩個和弦都交錯），且 T-B 平行八度 (60-48=12, 62-50=12)"
}
