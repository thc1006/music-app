# 數據集優先級分析：四部和聲 OMR 專案

## 一、專案需求回顧

### 瓶頸類別（mAP50 = 0，必須解決）
| 類別 ID | 名稱 | 當前樣本 | 問題 |
|---------|------|----------|------|
| 17 | accidental_double_flat | 1,000 | 全球僅 6 個原始樣本 |
| 16 | accidental_double_sharp | 3,096 | 樣本不足 |
| 24 | barline_double | 1,620 | 稀有 |

### 低性能類別（mAP50 < 0.3）
| 類別 ID | 名稱 | mAP50 | 需要 |
|---------|------|-------|------|
| 29 | fermata | 0.125 | 延長記號樣本 |
| 25 | barline_final | 0.136 | 終止線樣本 |
| 5 | flag_16th | 0.147 | 旗標樣本 |
| 15 | accidental_natural | 0.187 | 還原記號（與 sharp 混淆）|
| 12 | clef_tenor | 0.273 | 次中音譜號 |

### 授權考量
- 專案目標：Android APP（可能商業化）
- 優先選擇：CC-BY 4.0, CC-BY-SA 4.0, CC-0, MIT
- 可用於研究訓練：CC-BY-NC-SA 4.0（模型權重不受限）

---

## 二、數據集評估矩陣

### 🔴 最高優先級（必須下載）

| 數據集 | 規模 | 授權 | 解決的問題 | 下載優先 |
|--------|------|------|-----------|---------|
| **DoReMi** | 6,432 圖/1M 標註/94類 | 需確認 | 完整物件檢測 | ⭐⭐⭐⭐⭐ |
| **Choi Accidentals** | 2,955 圖 | 需確認 | 臨時記號混淆 | ⭐⭐⭐⭐⭐ |
| **MUSCIMA++** | 91,255 符號 | NC | 手寫泛化 | ⭐⭐⭐⭐⭐ |
| **Rebelo** | 15,000 符號 | CC-BY-SA | 符號分類 | ⭐⭐⭐⭐ |

### 🟠 高優先級（建議下載）

| 數據集 | 規模 | 授權 | 解決的問題 | 下載優先 |
|--------|------|------|-----------|---------|
| **Universal Music Symbol** | 90,000 符號 | 需確認 | 分類器增強 | ⭐⭐⭐⭐ |
| **AudioLabs v2** | 85,980 bbox | NC | 小節線/系統 | ⭐⭐⭐⭐ |
| **Fornes** | 4,100 符號 | 需確認 | 臨時記號+譜號 | ⭐⭐⭐⭐ |

### 🟡 中等優先級（後續考慮）

| 數據集 | 規模 | 授權 | 解決的問題 | 下載優先 |
|--------|------|------|-----------|---------|
| OpenScore Lieder | 1,356 檔 | CC-0 | 合成訓練數據 | ⭐⭐⭐ |
| MSMD | 497 曲 | CC-BY-SA | 多模態 | ⭐⭐⭐ |
| OpenOMR | 706 符號 | GPL | 基礎符號 | ⭐⭐ |

---

## 三、下載計畫

### Phase 1: 立即下載（解決 mAP=0 問題）
1. ✅ DoReMi - 完整 bounding boxes
2. ✅ Choi Accidentals - 解決 natural 混淆
3. ✅ MUSCIMA++ - 手寫增強

### Phase 2: 補充下載
4. Rebelo Dataset
5. Universal Music Symbol Collection
6. AudioLabs v2

---

## 四、預期效果

| 數據集組合 | 預期 mAP50 提升 | 主要改善 |
|-----------|----------------|----------|
| +DoReMi | +5-8% | 整體類別 |
| +Choi Accidentals | +3-5% | natural/sharp |
| +MUSCIMA++ | +2-4% | 泛化能力 |
| **總計** | **+10-17%** | 0.509 → 0.60-0.68 |
